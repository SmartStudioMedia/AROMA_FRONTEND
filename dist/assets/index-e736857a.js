import{r as o,a as He,R as Ke}from"./vendor-b1791c80.js";import{S as je,M as Z,P as X,X as Y,C as Ge}from"./icons-00207402.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const w of g.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&u(w)}).observe(document,{childList:!0,subtree:!0});function f(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function u(d){if(d.ep)return;d.ep=!0;const g=f(d);fetch(d.href,g)}})();var Te={exports:{}},U={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qe=o,Ze=Symbol.for("react.element"),Xe=Symbol.for("react.fragment"),Je=Object.prototype.hasOwnProperty,et=Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tt={key:!0,ref:!0,__self:!0,__source:!0};function Se(a,c,f){var u,d={},g=null,w=null;f!==void 0&&(g=""+f),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(w=c.ref);for(u in c)Je.call(c,u)&&!tt.hasOwnProperty(u)&&(d[u]=c[u]);if(a&&a.defaultProps)for(u in c=a.defaultProps,c)d[u]===void 0&&(d[u]=c[u]);return{$$typeof:Ze,type:a,key:g,ref:w,props:d,_owner:et.current}}U.Fragment=Xe;U.jsx=Se;U.jsxs=Se;Te.exports=U;var e=Te.exports,te={},we=He;te.createRoot=we.createRoot,te.hydrateRoot=we.hydrateRoot;const st={en:{welcome:"Welcome to AROMA Restaurant",dineIn:"Dine In",takeaway:"Takeaway",categories:{burgers:"Burgers",sides:"Sides",drinks:"Drinks",desserts:"Desserts"},addToCart:"Add to Cart",cart:"Cart",emptyCart:"Your cart is empty",total:"Total",cancelOrder:"Cancel Order",completeOrder:"Complete Order",orderSuccess:"Order placed successfully!",orderError:"Failed to place order. Please try again.",ingredients:"Ingredients",nutrition:"Nutrition",allergies:"Allergies",prepTime:"Prep Time"},mt:{welcome:"Merƒßba fil-AROMA Restaurant",dineIn:"Nieklu Hawn",takeaway:"ƒ¶u Miegƒßi",categories:{burgers:"Burgers",sides:"Sides",drinks:"Xorb",desserts:"Desserts"},addToCart:"≈ªid fil-Cart",cart:"Cart",emptyCart:"Il-cart tiegƒßek huwa vojt",total:"Total",cancelOrder:"Annulla l-Ordni",completeOrder:"Kompleta l-Ordni",orderSuccess:"L-ordni ƒ°iet imqiegƒßda b'suƒãƒãess!",orderError:"Ma rnexxilx li timqiegƒßed l-ordni. Jekk jogƒßƒ°bok ipprova ƒ°did.",ingredients:"Ingredjenti",nutrition:"Nutrizzjoni",allergies:"Allerƒ°iji",prepTime:"ƒ¶in ta' Preparazzjoni"},it:{welcome:"Benvenuti al Ristorante AROMA",dineIn:"Consumazione sul posto",takeaway:"Da asporto",categories:{burgers:"Hamburger",sides:"Contorni",drinks:"Bevande",desserts:"Dolci"},addToCart:"Aggiungi al Carrello",cart:"Carrello",emptyCart:"Il tuo carrello √® vuoto",total:"Totale",cancelOrder:"Annulla Ordine",completeOrder:"Completa Ordine",orderSuccess:"Ordine effettuato con successo!",orderError:"Impossibile effettuare l'ordine. Riprova.",ingredients:"Ingredienti",nutrition:"Valori Nutrizionali",allergies:"Allergie",prepTime:"Tempo di Preparazione"},fr:{welcome:"Bienvenue au Restaurant AROMA",dineIn:"Sur place",takeaway:"√Ä emporter",categories:{burgers:"Hamburgers",sides:"Accompagnements",drinks:"Boissons",desserts:"Desserts"},addToCart:"Ajouter au Panier",cart:"Panier",emptyCart:"Votre panier est vide",total:"Total",cancelOrder:"Annuler la Commande",completeOrder:"Finaliser la Commande",orderSuccess:"Commande pass√©e avec succ√®s!",orderError:"Impossible de passer la commande. R√©essayez.",ingredients:"Ingr√©dients",nutrition:"Valeurs Nutritionnelles",allergies:"Allergies",prepTime:"Temps de Pr√©paration"},es:{welcome:"Bienvenidos al Restaurante AROMA",dineIn:"Comer aqu√≠",takeaway:"Para llevar",categories:{burgers:"Hamburguesas",sides:"Acompa√±amientos",drinks:"Bebidas",desserts:"Postres"},addToCart:"A√±adir al Carrito",cart:"Carrito",emptyCart:"Tu carrito est√° vac√≠o",total:"Total",cancelOrder:"Cancelar Pedido",completeOrder:"Completar Pedido",orderSuccess:"¬°Pedido realizado con √©xito!",orderError:"No se pudo realizar el pedido. Int√©ntalo de nuevo.",ingredients:"Ingredientes",nutrition:"Informaci√≥n Nutricional",allergies:"Alergias",prepTime:"Tiempo de Preparaci√≥n"},de:{welcome:"Willkommen im AROMA Restaurant",dineIn:"Vor Ort essen",takeaway:"Zum Mitnehmen",categories:{burgers:"Burger",sides:"Beilagen",drinks:"Getr√§nke",desserts:"Desserts"},addToCart:"In den Warenkorb",cart:"Warenkorb",emptyCart:"Ihr Warenkorb ist leer",total:"Gesamt",cancelOrder:"Bestellung stornieren",completeOrder:"Bestellung abschlie√üen",orderSuccess:"Bestellung erfolgreich aufgegeben!",orderError:"Bestellung konnte nicht aufgegeben werden. Bitte versuchen Sie es erneut.",ingredients:"Zutaten",nutrition:"N√§hrwerte",allergies:"Allergien",prepTime:"Zubereitungszeit"},ru:{welcome:"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω AROMA",dineIn:"–í –∑–∞–ª–µ",takeaway:"–ù–∞ –≤—ã–Ω–æ—Å",categories:{burgers:"–ë—É—Ä–≥–µ—Ä—ã",sides:"–ì–∞—Ä–Ω–∏—Ä—ã",drinks:"–ù–∞–ø–∏—Ç–∫–∏",desserts:"–î–µ—Å–µ—Ä—Ç—ã"},addToCart:"–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É",cart:"–ö–æ—Ä–∑–∏–Ω–∞",emptyCart:"–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞",total:"–ò—Ç–æ–≥–æ",cancelOrder:"–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑",completeOrder:"–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑",orderSuccess:"–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–º–µ—â–µ–Ω!",orderError:"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –∑–∞–∫–∞–∑. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.",ingredients:"–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã",nutrition:"–ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å",allergies:"–ê–ª–ª–µ—Ä–≥–µ–Ω—ã",prepTime:"–í—Ä–µ–º—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è"},pt:{welcome:"Bem-vindos ao Restaurante AROMA",dineIn:"Comer no local",takeaway:"Para levar",categories:{burgers:"Hamb√∫rgueres",sides:"Acompanhamentos",drinks:"Bebidas",desserts:"Sobremesas"},addToCart:"Adicionar ao Carrinho",cart:"Carrinho",emptyCart:"Seu carrinho est√° vazio",total:"Total",cancelOrder:"Cancelar Pedido",completeOrder:"Finalizar Pedido",orderSuccess:"Pedido realizado com sucesso!",orderError:"N√£o foi poss√≠vel realizar o pedido. Tente novamente.",ingredients:"Ingredientes",nutrition:"Informa√ß√£o Nutricional",allergies:"Alergias",prepTime:"Tempo de Preparo"},nl:{welcome:"Welkom bij AROMA Restaurant",dineIn:"Ter plaatse eten",takeaway:"Afhalen",categories:{burgers:"Burgers",sides:"Bijgerechten",drinks:"Dranken",desserts:"Desserts"},addToCart:"Toevoegen aan Winkelwagen",cart:"Winkelwagen",emptyCart:"Uw winkelwagen is leeg",total:"Totaal",cancelOrder:"Bestelling annuleren",completeOrder:"Bestelling voltooien",orderSuccess:"Bestelling succesvol geplaatst!",orderError:"Bestelling kon niet worden geplaatst. Probeer opnieuw.",ingredients:"Ingredi√´nten",nutrition:"Voedingswaarden",allergies:"Allergie√´n",prepTime:"Bereidingstijd"},pl:{welcome:"Witamy w Restauracji AROMA",dineIn:"Na miejscu",takeaway:"Na wynos",categories:{burgers:"Burgery",sides:"Dodatki",drinks:"Napoje",desserts:"Desery"},addToCart:"Dodaj do koszyka",cart:"Koszyk",emptyCart:"Tw√≥j koszyk jest pusty",total:"Suma",cancelOrder:"Anuluj zam√≥wienie",completeOrder:"Zako≈Ñcz zam√≥wienie",orderSuccess:"Zam√≥wienie zosta≈Ço z≈Ço≈ºone pomy≈õlnie!",orderError:"Nie uda≈Ço siƒô z≈Ço≈ºyƒá zam√≥wienia. Spr√≥buj ponownie.",ingredients:"Sk≈Çadniki",nutrition:"Warto≈õci od≈ºywcze",allergies:"Alergie",prepTime:"Czas przygotowania"}},Ne=[{code:"en",name:"English",flag:"üá∫üá∏"},{code:"mt",name:"Malti",flag:"üá≤üáπ"},{code:"it",name:"Italiano",flag:"üáÆüáπ"},{code:"fr",name:"Fran√ßais",flag:"üá´üá∑"},{code:"es",name:"Espa√±ol",flag:"üá™üá∏"},{code:"de",name:"Deutsch",flag:"üá©üá™"},{code:"ru",name:"–†—É—Å—Å–∫–∏–π",flag:"üá∑üá∫"},{code:"pt",name:"Portugu√™s",flag:"üáµüáπ"},{code:"nl",name:"Nederlands",flag:"üá≥üá±"},{code:"pl",name:"Polski",flag:"üáµüá±"}];var ke,Ce;const Pe=((Ce=(ke=import.meta)==null?void 0:ke.env)==null?void 0:Ce.VITE_API_BASE)||"https://aroma-backend-production.up.railway.app";async function rt(a){const c=`${Pe}${a}${a.includes("?")?"&":"?"}t=${Date.now()}`;try{const f=await fetch(c,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!f.ok)throw new Error(`HTTP ${f.status}: ${f.statusText}`);return await f.json()}catch(f){throw f}}async function at(a,c){const f=`${Pe}${a}`;try{const u=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"});if(!u.ok){const g=await u.text();throw new Error(`HTTP ${u.status}: ${g}`)}return await u.json()}catch(u){throw u}}const h=(a,c)=>typeof a=="string"?a:(a==null?void 0:a[c])||(a==null?void 0:a.en)||"",J={Burgers:{en:"Burgers",mt:"Burgers",it:"Hamburger",fr:"Burgers",es:"Hamburguesas",de:"Burger",ru:"–ë—É—Ä–≥–µ—Ä—ã",pt:"Hamb√∫rgueres",nl:"Burgers",pl:"Burgery"},Sides:{en:"Sides",mt:"ƒ¶ut",it:"Contorni",fr:"Accompagnements",es:"Acompa√±amientos",de:"Beilagen",ru:"–ì–∞—Ä–Ω–∏—Ä—ã",pt:"Acompanhamentos",nl:"Bijgerechten",pl:"Dodatki"},Drinks:{en:"Drinks",mt:"Xorbiet",it:"Bevande",fr:"Boissons",es:"Bebidas",de:"Getr√§nke",ru:"–ù–∞–ø–∏—Ç–∫–∏",pt:"Bebidas",nl:"Drankjes",pl:"Napoje"},Desserts:{en:"Desserts",mt:"Dessert",it:"Dolci",fr:"Desserts",es:"Postres",de:"Desserts",ru:"–î–µ—Å–µ—Ä—Ç—ã",pt:"Sobremesas",nl:"Desserts",pl:"Desery"}};function ee(a,c="en"){return J[a]?J[a][c]||J[a].en:a}function ot(){const[a,c]=o.useState("en"),[f,u]=o.useState(!0),[d,g]=o.useState(null),[w,se]=o.useState(""),[k,I]=o.useState([]),[Ie,O]=o.useState(!1),[n,_]=o.useState(null),[q,re]=o.useState(!1),[ae,$]=o.useState(null),[A,oe]=o.useState(!1),[Oe,V]=o.useState(!1),[Ae,Me]=o.useState(""),[p,Ee]=o.useState(""),[W,ne]=o.useState("image"),[ze,M]=o.useState(!1),[Be,ie]=o.useState(!0),[le,ce]=o.useState({}),[nt,de]=o.useState(null),[C,ue]=o.useState([]),[me,ge]=o.useState([]),[pe,xe]=o.useState(null),[Re,E]=o.useState(!1),[v,z]=o.useState({name:"",email:"",marketingConsent:!0,newsletterConsent:!1}),x=st[a];o.useEffect(()=>{(async()=>{try{xe(null);const s=await rt("/api/menu");if(s&&s.categories&&s.items)de(s),ue(s.categories.filter(r=>r.active)),ge(s.items.filter(r=>r.active));else throw new Error("Invalid menu data structure")}catch(s){xe(s.message);const r={categories:[{id:1,name:"Burgers",icon:"üçî",sort_order:1,active:!0},{id:2,name:"Sides",icon:"üçü",sort_order:2,active:!0},{id:3,name:"Drinks",icon:"ü•§",sort_order:3,active:!0},{id:4,name:"Desserts",icon:"üç∞",sort_order:4,active:!0}],items:[{id:1,name:{en:"Classic Burger",mt:"Burger Klassiku",it:"Burger Classico",fr:"Burger Classique",es:"Burger Cl√°sico",de:"Klassischer Burger",ru:"–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –±—É—Ä–≥–µ—Ä",pt:"Burger Cl√°ssico",nl:"Klassieke Burger",pl:"Klasyczny Burger"},description:{en:"Juicy beef patty with fresh lettuce and tomato",mt:"Patty tal-baƒßar b'lettuce friska u tadam",it:"Polpetta di manzo succosa con lattuga fresca e pomodoro",fr:"Steak de b≈ìuf juteux avec laitue fra√Æche et tomate",es:"Hamburguesa de carne jugosa con lechuga fresca y tomate",de:"Saftiges Rindersteak mit frischem Salat und Tomate",ru:"–°–æ—á–Ω–∞—è –≥–æ–≤—è–∂—å—è –∫–æ—Ç–ª–µ—Ç–∞ —Å–æ —Å–≤–µ–∂–∏–º —Å–∞–ª–∞—Ç–æ–º –∏ –ø–æ–º–∏–¥–æ—Ä–∞–º–∏",pt:"Hamb√∫rguer de carne suculento com alface fresca e tomate",nl:"Sappige rundvleesburger met verse sla en tomaat",pl:"Soczysta wo≈Çowina z ≈õwie≈ºƒÖ sa≈ÇatƒÖ i pomidorem"},price:12.99,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category_id:1,active:!0,ingredients:{en:"Beef patty, lettuce, tomato, onion, bun",mt:"Patty tal-baƒßar, lettuce, tadam, basal, bun",it:"Polpetta di manzo, lattuga, pomodoro, cipolla, panino",fr:"Steak de b≈ìuf, laitue, tomate, oignon, pain",es:"Hamburguesa de carne, lechuga, tomate, cebolla, pan",de:"Rindersteak, Salat, Tomate, Zwiebel, Br√∂tchen",ru:"–ì–æ–≤—è–∂—å—è –∫–æ—Ç–ª–µ—Ç–∞, —Å–∞–ª–∞—Ç, –ø–æ–º–∏–¥–æ—Ä, –ª—É–∫, –±—É–ª–æ—á–∫–∞",pt:"Hamb√∫rguer de carne, alface, tomate, cebola, p√£o",nl:"Rundvleesburger, sla, tomaat, ui, broodje",pl:"Wo≈Çowina, sa≈Çata, pomidor, cebula, bu≈Çka"},nutrition:{en:"Calories: 650, Protein: 35g, Carbs: 45g, Fat: 35g",mt:"Kaloriji: 650, Proteini: 35g, Karboidrati: 45g, Xaƒßmijiet: 35g",it:"Calorie: 650, Proteine: 35g, Carboidrati: 45g, Grassi: 35g",fr:"Calories: 650, Prot√©ines: 35g, Glucides: 45g, Lipides: 35g",es:"Calor√≠as: 650, Prote√≠nas: 35g, Carbohidratos: 45g, Grasas: 35g",de:"Kalorien: 650, Eiwei√ü: 35g, Kohlenhydrate: 45g, Fette: 35g",ru:"–ö–∞–ª–æ—Ä–∏–∏: 650, –ë–µ–ª–∫–∏: 35–≥, –£–≥–ª–µ–≤–æ–¥—ã: 45–≥, –ñ–∏—Ä—ã: 35–≥",pt:"Calorias: 650, Prote√≠nas: 35g, Carboidratos: 45g, Gorduras: 35g",nl:"Calorie√´n: 650, Eiwit: 35g, Koolhydraten: 45g, Vet: 35g",pl:"Kalorie: 650, Bia≈Çko: 35g, Wƒôglowodany: 45g, T≈Çuszcz: 35g"},allergies:{en:"Contains gluten, dairy",mt:"Fih gluten, dairy",it:"Contiene glutine, latticini",fr:"Contient du gluten, des produits laitiers",es:"Contiene gluten, l√°cteos",de:"Enth√§lt Gluten, Milchprodukte",ru:"–°–æ–¥–µ—Ä–∂–∏—Ç –≥–ª—é—Ç–µ–Ω, –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã",pt:"Cont√©m gl√∫ten, latic√≠nios",nl:"Bevat gluten, zuivel",pl:"Zawiera gluten, nabia≈Ç"},prepTime:{en:"15 min",mt:"15 min",it:"15 min",fr:"15 min",es:"15 min",de:"15 Min",ru:"15 –º–∏–Ω",pt:"15 min",nl:"15 min",pl:"15 min"}}]};de(r),ue(r.categories),ge(r.items)}})()},[]),o.useEffect(()=>{if(C.length>0){const t=C[0],s=ee(t.name,a);se(s.toLowerCase())}},[a,C]);const he=()=>{var r;if(!me||!w||!C.length)return[];const t=(r=C.find(l=>ee(l.name,a).toLowerCase()===w))==null?void 0:r.id;return t?me.filter(l=>l.category_id===t&&l.active):[]},Le=t=>{I(s=>s.find(l=>l.id===t.id)?s.map(l=>l.id===t.id?{...l,qty:l.qty+1}:l):[...s,{...t,qty:1}])},De=t=>{I(s=>s.map(r=>r.id===t?{...r,qty:r.qty-1}:r).filter(r=>r.qty>0))},fe=()=>I([]),B=t=>le[t]||0,R=(t,s)=>{ce(r=>({...r,[t]:Math.max(0,(r[t]||0)+s)}))},be=t=>{const s=le[t.id]||0;s!==0&&(I(r=>r.find(b=>b.id===t.id)?r.map(b=>b.id===t.id?{...b,qty:b.qty+s}:b):[...r,{...t,qty:s}]),ce(r=>({...r,[t.id]:0})))},F=()=>k.reduce((t,s)=>t+s.price*s.qty,0),Ye=t=>{if(!t)return!1;const s=[".mp4",".webm",".ogg",".avi",".mov",".wmv",".flv",".mkv"],r=t.toLowerCase();return!!(s.some(l=>r.includes(l))||r.includes("youtube.com")||r.includes("youtu.be")||r.includes("vimeo.com")||r.includes("video")||r.includes("stream"))},y=t=>!t||typeof t!="string"?!1:t.includes("youtube.com/shorts/")||t.includes("youtu.be/")&&t.includes("shorts"),Ue=()=>{const t=navigator.userAgent,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)||window.innerWidth<=768,r=/iPhone|iPad|iPod|Android.*Chrome\/[0-9]{2}\.[0-9]|Safari.*Version\/[0-9]{2}\.[0-9]|Mobile.*Safari/i.test(t),l="ontouchstart"in window||navigator.maxTouchPoints>0,b=window.innerWidth<=768||window.innerHeight<=1024,m=s||r||l&&b,P=new URLSearchParams(window.location.search).get("forceMobile"),ve=m||P==="true",Fe=!1;return console.log("Mobile detection:",{userAgent:t,isMobile:s,hasVideoIssues:r,isTouchDevice:l,isMobileViewport:b,screenWidth:window.innerWidth,screenHeight:window.innerHeight,forceMobile:m,forceMobileParam:P,finalMobile:ve,aggressiveMobile:Fe}),ve},L=t=>{if(!t||typeof t!="string")return"";try{const s=N(t);if(s){const r=["autoplay=1","mute=1","rel=0","modestbranding=1","fs=1","cc_load_policy=0","iv_load_policy=3","enablejsapi=1",`origin=${window.location.origin}`,"playsinline=1","controls=1","disablekb=0","loop=0"];return y(t)&&r.push("start=0","end=0"),`https://www.youtube.com/embed/${s}?${r.join("&")}`}return""}catch(s){return console.error("Error parsing YouTube URL:",s),""}},_e=t=>{if(!t||typeof t!="string")return"";try{const s=t.split("vimeo.com/");return s.length>1?`https://player.vimeo.com/video/${s[1].split("?")[0]}?autoplay=1&muted=1&loop=1`:""}catch(s){return console.error("Error parsing Vimeo URL:",s),""}},N=t=>{if(!t||typeof t!="string")return console.log("getYouTubeVideoId: Invalid URL:",t),"";try{if(console.log("getYouTubeVideoId: Processing URL:",t),t.includes("youtube.com/watch?v=")){const s=t.split("v=");if(s.length>1){const r=s[1].split("&")[0];return console.log("getYouTubeVideoId: Extracted video ID from youtube.com:",r),r}}else if(t.includes("youtube.com/shorts/")){const s=t.split("youtube.com/shorts/");if(s.length>1){const r=s[1].split("?")[0];return console.log("getYouTubeVideoId: Extracted video ID from youtube.com/shorts:",r),r}}else if(t.includes("youtu.be/")){const s=t.split("youtu.be/");if(s.length>1){const r=s[1].split("?")[0];return console.log("getYouTubeVideoId: Extracted video ID from youtu.be:",r),r}}return console.log("getYouTubeVideoId: No valid YouTube URL pattern found"),""}catch(s){return console.error("Error extracting YouTube video ID:",s),""}},T="https://www.youtube.com/watch?v=dQw4w9WgXcQ",S="https://www.youtube.com/shorts/dQw4w9WgXcQ";console.log("Testing YouTube URL parsing:",T);const H=N(T);console.log("Test result - Video ID:",H),console.log("Testing YouTube Shorts URL parsing:",S);const qe=N(S);console.log("Test result - Shorts ID:",qe),console.log("Testing YouTube Shorts detection:",{url:S,isShort:y(S),embedUrl:L(S),willUseDirectLink:y(S)}),console.log("Testing regular YouTube video:",{url:T,isShort:y(T),embedUrl:L(T),willUseDirectLink:y(T)}),console.log("Test thumbnail URL:",`https://img.youtube.com/vi/${H}/mqdefault.jpg`);const K=`https://img.youtube.com/vi/${H}/mqdefault.jpg`,G=new Image;G.onload=()=>console.log("‚úÖ YouTube thumbnail test successful:",K),G.onerror=()=>console.log("‚ùå YouTube thumbnail test failed:",K),G.src=K;const i=t=>{var s;return t?(console.log("getPrimaryMediaUrl: Item data:",{id:t.id,name:((s=t.name)==null?void 0:s.en)||"Unknown",video:t.video,image:t.image}),t.video&&typeof t.video=="string"&&t.video.trim()!==""?(console.log("getPrimaryMediaUrl: Using video URL:",t.video),t.video):t.image&&typeof t.image=="string"?(console.log("getPrimaryMediaUrl: Using image URL:",t.image),t.image):(console.log("getPrimaryMediaUrl: No valid media URL found"),"")):(console.log("getPrimaryMediaUrl: No item provided"),"")},Q=t=>t&&t.video&&typeof t.video=="string"&&t.video.trim()!==""?"video":"image",D=t=>{Ye(t)?(Ee(t),ne("video"),M(!1),ie(!0),console.log("Opening video modal:",{url:t,isMobile:Ue(),isYouTubeShort:y(t),userAgent:navigator.userAgent,screenWidth:window.innerWidth,willUseDirectLink:y(t)||new URLSearchParams(window.location.search).get("forceDirect"),reason:y(t)?"YouTube Shorts detected":"Normal video"})):(Me(t),ne("image")),V(!0)},$e=()=>{k.length!==0&&(O(!1),setTimeout(()=>{E(!0)},100))},Ve=async()=>{if(!v.name.trim()||!v.email.trim()){alert("Please fill in both name and email");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)){alert("Please enter a valid email address");return}oe(!0);try{const s={items:k.map(l=>({id:l.id,qty:l.qty})),orderType:d,tableNumber:d==="dine-in"?Math.floor(Math.random()*20)+1:null,customerName:v.name,customerEmail:v.email,marketingConsent:v.marketingConsent,newsletterConsent:v.newsletterConsent,total:F()},r=await at("/api/orders",s);$("success"),fe(),O(!1),E(!1),z({name:"",email:""}),setTimeout(()=>$(null),3e3)}catch{$("error")}finally{oe(!1)}},ye=({isWelcome:t=!1})=>{const s=Ne.find(r=>r.code===a);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>re(!q),className:`flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors ${t?"w-full justify-between":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg emoji",style:{fontSize:"18px"},children:s.flag}),e.jsx("span",{className:"text-sm font-medium",children:s.name})]}),e.jsx(Ge,{size:16,className:`transition-transform ${q?"rotate-180":""}`})]}),q&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 max-h-60 overflow-y-auto z-50",children:Ne.map(r=>e.jsxs("button",{onClick:()=>{c(r.code),re(!1)},className:"w-full p-3 text-left hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100 last:border-b-0 transition-colors",children:[e.jsx("span",{className:"text-lg emoji",style:{fontSize:"18px"},children:r.flag}),e.jsx("span",{className:"font-medium text-gray-800",children:r.name})]},r.code))})]})},We=()=>{if(!Oe)return null;const t=m=>{m.stopPropagation();const j=m.target;j.paused&&j.play().catch(P=>console.log("Autoplay failed:",P))},s=p.includes("youtube.com")||p.includes("youtu.be"),r=p.includes("vimeo.com"),[l,b]=o.useState(null);return o.useEffect(()=>{if(W==="video"&&s){const m=setTimeout(()=>{console.log("YouTube iframe taking too long to load, showing fallback");const j=document.querySelector('iframe[src*="youtube.com/embed"]');j&&j.offsetHeight===0&&(j.style.display="none",j.parentElement.innerHTML=`
              <div class="w-full h-96 bg-gray-800 rounded-lg flex items-center justify-center text-white">
                <div class="text-center">
                  <div class="text-4xl mb-4">‚è±Ô∏è</div>
                  <p class="text-lg font-semibold mb-2">Loading Timeout</p>
                  <p class="text-sm opacity-75 mb-4">Video is taking too long to load. Try opening it directly.</p>
                  <button onclick="window.open('${p}', '_blank', 'noopener,noreferrer')" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">
                    Open in YouTube
                  </button>
                </div>
              </div>
            `)},1e4);return b(m),()=>{m&&clearTimeout(m)}}},[W,s,p]),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>V(!1),children:e.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[W==="video"?e.jsx("div",{className:"relative",children:s?e.jsxs("div",{className:"relative",children:[Be&&e.jsx("div",{className:"absolute inset-0 bg-gray-800 rounded-lg flex items-center justify-center text-white z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold",children:"Loading Video..."}),e.jsx("p",{className:"text-sm opacity-75",children:"This may take a moment"})]})}),new URLSearchParams(window.location.search).get("forceDirect")?e.jsx("div",{className:"w-full h-96 bg-gradient-to-br from-red-600 to-red-800 rounded-lg flex items-center justify-center text-white",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"text-8xl mb-6",children:y(p)?"üé¨":"üì±"}),e.jsx("h3",{className:"text-2xl font-bold mb-3",children:y(p)?"YouTube Shorts Player":"Mobile Video Player"}),e.jsx("p",{className:"text-base opacity-90 mb-8 leading-relaxed",children:y(p)?"YouTube Shorts have known corruption issues when embedded. Opening directly in the YouTube app prevents green lines and jagged patterns.":"To prevent video corruption (green lines, jagged patterns), please open this video directly in the YouTube app for the best viewing experience."}),e.jsxs("div",{className:"mb-6 p-4 bg-red-800 bg-opacity-50 rounded-lg border border-red-400",children:[e.jsx("p",{className:"text-sm font-semibold text-red-200",children:y(p)?"üé¨ Shorts Corruption Prevention":"üõ°Ô∏è Corruption Prevention Active"}),e.jsx("p",{className:"text-xs text-red-300 mt-1",children:y(p)?"YouTube Shorts embedded players show diagonal green lines and corruption":"This prevents diagonal green lines and jagged video patterns"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>{const j=`vnd.youtube:${N(p)}`,P=p;window.location.href=j,setTimeout(()=>{window.open(P,"_blank","noopener,noreferrer")},1e3)},className:"w-full bg-white text-red-600 hover:bg-gray-100 px-6 py-4 rounded-lg font-bold text-lg transition-colors flex items-center justify-center gap-3 shadow-lg",children:[e.jsx("span",{className:"text-2xl",children:"‚ñ∂Ô∏è"}),"Open in YouTube App"]}),e.jsxs("button",{onClick:()=>window.open(p,"_blank","noopener,noreferrer"),className:"w-full bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[e.jsx("span",{children:"üåê"}),"Open in Browser"]}),window.location.hostname==="localhost"||window.location.hostname.includes("dev")?e.jsx("button",{onClick:()=>{const m=document.querySelector(".mobile-iframe-container");m&&(m.innerHTML=`
                                    <div class="w-full h-96 bg-gray-800 rounded-lg flex items-center justify-center text-white">
                                      <div class="text-center">
                                        <div class="text-4xl mb-4">‚ö†Ô∏è</div>
                                        <p class="text-lg font-semibold mb-2">Testing Embedded Player</p>
                                        <p class="text-sm opacity-75 mb-4">This may show corruption on mobile</p>
                                        <iframe
                                          src="${L(p)}"
                                          className="w-full h-96 rounded-lg"
                                          frameBorder="0"
                                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                          allowFullScreen
                                          title="YouTube video"
                                          loading="eager"
                                        ></iframe>
                                      </div>
                                    </div>
                                  `,m.classList.remove("hidden"))},className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors text-sm",children:"üß™ Test Embedded Player (Debug)"}):null]}),e.jsx("div",{className:"mt-6 text-xs opacity-75",children:e.jsx("p",{children:"This prevents video corruption issues on mobile devices"})})]})}):e.jsx("div",{className:"video-container",children:e.jsx("iframe",{src:L(p),className:"w-full h-96 rounded-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,title:"YouTube video",loading:"eager",onLoad:m=>{console.log("YouTube iframe loaded successfully"),ie(!1),l&&(clearTimeout(l),b(null))},onError:m=>{console.log("YouTube iframe failed to load, showing fallback options"),l&&(clearTimeout(l),b(null)),m.target.style.display="none",m.target.parentElement.innerHTML=`
                      <div class="w-full h-96 bg-gray-800 rounded-lg flex items-center justify-center text-white">
                        <div class="text-center">
                          <div class="text-4xl mb-4">üé•</div>
                          <p class="text-lg font-semibold mb-2">Video Playback Error</p>
                          <p class="text-sm opacity-75 mb-4">Unable to load video. This may be due to codec issues or connection problems.</p>
                          <div class="flex gap-3 justify-center">
                            <button onclick="window.open('${p}', '_blank', 'noopener,noreferrer')" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">
                              Open in YouTube
                            </button>
                            <button onclick="window.location.reload()" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors">
                              Retry
                            </button>
                          </div>
                        </div>
                      </div>
                    `}})}),e.jsx("div",{className:"mobile-iframe-container hidden"})]}):r?e.jsx("iframe",{src:_e(p),className:"w-full h-96 rounded-lg",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,title:"Vimeo video"}):e.jsxs(e.Fragment,{children:[e.jsx("video",{src:p,controls:!0,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata",className:"max-w-full max-h-full object-contain rounded-lg",onClick:t,onLoadedData:m=>{m.target.play().catch(j=>console.log("Initial autoplay failed:",j))},onPlay:()=>M(!0),onPause:()=>M(!1),onEnded:()=>M(!1),style:{WebkitPlaysInline:!0,playsInline:!0,"webkit-playsinline":!0,imageRendering:"crisp-edges"},children:"Your browser does not support the video tag."}),!ze&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center cursor-pointer",onClick:t,children:e.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-90 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all transform hover:scale-110",children:e.jsx("span",{className:"text-4xl ml-1",children:"‚ñ∂Ô∏è"})})})]})}):e.jsx("img",{src:Ae,alt:"Full size",className:"max-w-full max-h-full object-contain rounded-lg",onClick:m=>m.stopPropagation()}),e.jsx("button",{onClick:()=>V(!1),className:"absolute top-4 right-4 bg-white bg-opacity-90 p-2 rounded-full hover:bg-opacity-100 transition-colors",children:e.jsx(Y,{size:24})})]})})};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 via-red-500 to-pink-500 flex items-center justify-center p-6",children:e.jsx("div",{className:"w-full max-w-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"üçî"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"AROMA"}),e.jsx("p",{className:"text-gray-600",children:x.welcome})]}),e.jsx("div",{className:"mb-8",children:e.jsx(ye,{isWelcome:!0})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>{g("dine-in"),u(!1)},className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"üçΩÔ∏è"}),e.jsx("span",{children:x.dineIn})]}),e.jsxs("button",{onClick:()=>{g("takeaway"),u(!1)},className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"ü•°"}),e.jsx("span",{children:x.takeaway})]})]})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm",children:"üçî"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"AROMA"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>O(!0),className:"relative bg-orange-500 text-white p-2 rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(je,{size:18}),k.length>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:k.reduce((t,s)=>t+s.qty,0)})]}),e.jsx(ye,{})]})]})})}),pe&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mx-4 mt-4 rounded",children:[e.jsx("strong",{children:"‚ö†Ô∏è Connection Error:"})," ",pe,e.jsx("br",{}),e.jsx("small",{children:"Using offline menu data"})]}),C.length>0&&e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"px-4 py-3",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide category-scroll",children:C.map(t=>{const s=ee(t.name,a),r=s.toLowerCase();return e.jsxs("button",{onClick:()=>se(r),className:`flex-shrink-0 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${w===r?"bg-orange-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{className:"mr-2",children:t.icon}),s]},t.id)})})})}),e.jsx("main",{className:"p-4 space-y-4 pb-20",children:!C.length||!w?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"‚è≥"})}),e.jsx("p",{className:"text-gray-500",children:"Loading menu..."})]}):he().length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"üçΩÔ∏è"})}),e.jsx("p",{className:"text-gray-500",children:"No items available in this category"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back later for new items!"})]}):he().map(t=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>_(t),children:e.jsxs("div",{className:"flex gap-4",children:[Q(t)==="video"?e.jsxs("div",{className:"relative w-20 h-20 rounded-lg flex-shrink-0 bg-gray-200 flex items-center justify-center cursor-pointer",onClick:s=>{s.stopPropagation(),D(i(t))},children:[i(t).includes("youtube.com")||i(t).includes("youtu.be")?e.jsx("img",{src:`https://img.youtube.com/vi/${N(i(t))}/maxresdefault.jpg`,alt:h(t.name,a),className:"w-full h-full object-cover rounded-lg",loading:"lazy",onError:s=>{console.log("YouTube thumbnail failed to load, trying fallback"),s.target.src=`https://img.youtube.com/vi/${N(i(t))}/hqdefault.jpg`,s.target.onerror=()=>{s.target.style.display="none",s.target.parentElement.innerHTML='<div class="w-full h-full bg-gray-300 rounded-lg flex items-center justify-center"><span class="text-2xl">üé•</span></div>'}},onLoad:()=>console.log("YouTube thumbnail loaded successfully")}):i(t).includes("vimeo.com")?e.jsx("div",{className:"w-full h-full bg-gray-300 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"üé•"})}):e.jsx("video",{src:i(t),className:"w-full h-full object-cover rounded-lg",muted:!0,loop:!0}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-80 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"‚ñ∂Ô∏è"})})})]}):e.jsx("img",{src:i(t),alt:h(t.name,a),className:"w-20 h-20 object-cover rounded-lg flex-shrink-0 cursor-pointer",onClick:s=>{s.stopPropagation(),D(i(t))}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:h(t.name,a)}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:h(t.description,a)}),e.jsxs("p",{className:"text-orange-600 font-bold mb-3",children:["‚Ç¨",t.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),R(t.id,-1)},className:"bg-red-500 hover:bg-red-600 text-white p-1.5 rounded-full transition-colors",children:e.jsx(Z,{size:12})}),e.jsx("span",{className:"w-6 text-center font-medium text-sm",children:B(t.id)}),e.jsx("button",{onClick:s=>{s.stopPropagation(),R(t.id,1)},className:"bg-orange-500 hover:bg-orange-600 text-white p-1.5 rounded-full transition-colors",children:e.jsx(X,{size:12})})]}),e.jsx("button",{onClick:s=>{s.stopPropagation(),be(t)},disabled:B(t.id)===0,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",children:x.addToCart})]})]})]})},t.id))}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"relative",children:[Q(n)==="video"?e.jsxs("div",{className:"relative w-full h-48 bg-gray-200 flex items-center justify-center cursor-pointer",onClick:()=>{D(i(n))},children:[i(n).includes("youtube.com")||i(n).includes("youtu.be")?e.jsx("img",{src:`https://img.youtube.com/vi/${N(i(n))}/maxresdefault.jpg`,alt:h(n.name,a),className:"w-full h-full object-cover rounded-t-2xl",loading:"eager",onError:t=>{console.log("YouTube thumbnail failed to load in selected item modal, trying fallback"),t.target.src=`https://img.youtube.com/vi/${N(i(n))}/hqdefault.jpg`,t.target.onerror=()=>{t.target.style.display="none",t.target.parentElement.innerHTML='<div class="w-full h-full bg-gray-300 rounded-t-2xl flex items-center justify-center"><span class="text-6xl">üé•</span></div>'}},onLoad:()=>console.log("YouTube thumbnail loaded successfully in selected item modal")}):i(n).includes("vimeo.com")?e.jsx("div",{className:"w-full h-full bg-gray-300 rounded-t-2xl flex items-center justify-center",children:e.jsx("span",{className:"text-6xl",children:"üé•"})}):e.jsx("video",{src:i(n),className:"w-full h-full object-cover rounded-t-2xl",muted:!0,loop:!0}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 rounded-t-2xl flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-80 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"‚ñ∂Ô∏è"})})})]}):e.jsx("img",{src:i(n),alt:h(n.name,a),className:"w-full h-48 object-cover rounded-t-2xl cursor-pointer",onClick:()=>{D(i(n))}}),e.jsx("button",{onClick:()=>_(null),className:"absolute top-3 right-3 bg-white bg-opacity-90 p-2 rounded-full hover:bg-opacity-100 transition-colors",children:e.jsx(Y,{size:18})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:h(n.name,a)}),e.jsx("p",{className:"text-gray-600 mb-4",children:h(n.description,a)}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:x.ingredients}),e.jsx("p",{className:"text-gray-600 text-sm",children:h(n.ingredients,a)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:x.nutrition}),e.jsx("p",{className:"text-gray-600 text-sm",children:h(n.nutrition,a)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:x.allergies}),e.jsx("p",{className:"text-gray-600 text-sm",children:h(n.allergies,a)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:x.prepTime}),e.jsx("p",{className:"text-gray-600 text-sm",children:h(n.prepTime,a)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-orange-600 font-bold text-xl",children:["‚Ç¨",n.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>R(n.id,-1),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-full transition-colors",children:e.jsx(Z,{size:14})}),e.jsx("span",{className:"w-6 text-center font-medium",children:B(n.id)}),e.jsx("button",{onClick:()=>R(n.id,1),className:"bg-orange-500 hover:bg-orange-600 text-white p-2 rounded-full transition-colors",children:e.jsx(X,{size:14})})]})]}),e.jsx("button",{onClick:()=>{be(n),_(null)},disabled:B(n.id)===0,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium transition-colors mt-4",children:x.addToCart})]})]})}),Ie&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:x.cart}),e.jsx("button",{onClick:()=>O(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Y,{size:20})})]})}),e.jsx("div",{className:"p-6",children:k.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx(je,{className:"text-gray-400",size:24})}),e.jsx("p",{className:"text-gray-500",children:x.emptyCart})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4 mb-6",children:k.map(t=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[Q(t)==="video"?e.jsxs("div",{className:"relative w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0",children:[i(t).includes("youtube.com")||i(t).includes("youtu.be")?e.jsx("img",{src:`https://img.youtube.com/vi/${N(i(t))}/hqdefault.jpg`,alt:h(t.name,a),className:"w-full h-full object-cover rounded-lg",loading:"lazy",onError:s=>{console.log("YouTube thumbnail failed to load in cart, trying fallback"),s.target.src=`https://img.youtube.com/vi/${N(i(t))}/mqdefault.jpg`,s.target.onerror=()=>{s.target.style.display="none",s.target.parentElement.innerHTML='<div class="w-full h-full bg-gray-300 rounded-lg flex items-center justify-center"><span class="text-sm">üé•</span></div>'}},onLoad:()=>console.log("YouTube thumbnail loaded successfully in cart")}):i(t).includes("vimeo.com")?e.jsx("div",{className:"w-full h-full bg-gray-300 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-sm",children:"üé•"})}):e.jsx("video",{src:i(t),className:"w-full h-full object-cover rounded-lg",muted:!0,loop:!0}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs",children:"‚ñ∂Ô∏è"})})]}):e.jsx("img",{src:i(t),alt:h(t.name,a),className:"w-12 h-12 object-cover rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:h(t.name,a)}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["‚Ç¨",t.price.toFixed(2)," √ó ",t.qty]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>De(t.id),className:"bg-red-500 hover:bg-red-600 text-white p-1.5 rounded-full transition-colors",children:e.jsx(Z,{size:12})}),e.jsx("button",{onClick:()=>Le(t),className:"bg-orange-500 hover:bg-orange-600 text-white p-1.5 rounded-full transition-colors",children:e.jsx(X,{size:12})})]})]},t.id))}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"font-bold text-lg text-gray-800",children:x.total}),e.jsxs("span",{className:"font-bold text-xl text-orange-600",children:["‚Ç¨",F().toFixed(2)]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:fe,className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-medium transition-colors",children:x.cancelOrder}),e.jsx("button",{onClick:$e,disabled:A,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium transition-colors disabled:opacity-50",children:A?"Processing...":x.completeOrder})]})]})]})})]})}),Re&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",style:{zIndex:9999},children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Complete Your Order"}),e.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Y,{size:20})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[k.map(t=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[h(t.name,a)," √ó ",t.qty]}),e.jsxs("span",{children:["‚Ç¨",(t.price*t.qty).toFixed(2)]})]},t.id)),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["‚Ç¨",F().toFixed(2)]})]})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:v.name,onChange:t=>z(s=>({...s,name:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:v.email,onChange:t=>z(s=>({...s,email:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your email address",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"We'll send your order confirmation to this email"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.marketingConsent,onChange:t=>z(s=>({...s,marketingConsent:t.target.checked})),className:"mt-1 h-4 w-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Marketing Communications"}),e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["I would like to receive special offers, promotions, and marketing materials from AROMA Restaurant.",e.jsx("span",{className:"text-orange-600 font-medium",children:" Uncheck if you don't want marketing emails."})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can unsubscribe from these communications at any time. Your privacy is important to us."})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>E(!1),className:"w-full bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg font-medium transition-colors",children:"Back to Cart"}),e.jsx("button",{onClick:Ve,disabled:A||!v.name.trim()||!v.email.trim(),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium transition-colors disabled:opacity-50",children:A?"Processing...":"Complete Order & Send Confirmation"})]})]})]})}),e.jsx(We,{}),ae==="success"&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",children:x.orderSuccess}),ae==="error"&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",children:x.orderError})]})}te.createRoot(document.getElementById("root")).render(e.jsx(Ke.StrictMode,{children:e.jsx(ot,{})}));
