import{r as n,a as We,R as Fe}from"./vendor-b1791c80.js";import{S as ve,M as Z,P as X,X as D,C as He}from"./icons-00207402.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))d(c);new MutationObserver(c=>{for(const g of c)if(g.type==="childList")for(const j of g.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&d(j)}).observe(document,{childList:!0,subtree:!0});function b(c){const g={};return c.integrity&&(g.integrity=c.integrity),c.referrerPolicy&&(g.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?g.credentials="include":c.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function d(c){if(c.ep)return;c.ep=!0;const g=b(c);fetch(c.href,g)}})();var Ce={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke=n,Ge=Symbol.for("react.element"),Qe=Symbol.for("react.fragment"),Ze=Object.prototype.hasOwnProperty,Xe=Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Je={key:!0,ref:!0,__self:!0,__source:!0};function Te(o,u,b){var d,c={},g=null,j=null;b!==void 0&&(g=""+b),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(j=u.ref);for(d in u)Ze.call(u,d)&&!Je.hasOwnProperty(d)&&(c[d]=u[d]);if(o&&o.defaultProps)for(d in u=o.defaultProps,u)c[d]===void 0&&(c[d]=u[d]);return{$$typeof:Ge,type:o,key:g,ref:j,props:c,_owner:Xe.current}}_.Fragment=Qe;_.jsx=Te;_.jsxs=Te;Ce.exports=_;var e=Ce.exports,J={},we=We;J.createRoot=we.createRoot,J.hydrateRoot=we.hydrateRoot;const et={en:{welcome:"Welcome to AROMA Restaurant",dineIn:"Dine In",takeaway:"Takeaway",categories:{burgers:"Burgers",sides:"Sides",drinks:"Drinks",desserts:"Desserts"},addToCart:"Add to Cart",cart:"Cart",emptyCart:"Your cart is empty",total:"Total",cancelOrder:"Cancel Order",completeOrder:"Complete Order",orderSuccess:"Order placed successfully!",orderError:"Failed to place order. Please try again.",ingredients:"Ingredients",nutrition:"Nutrition",allergies:"Allergies",prepTime:"Prep Time"},mt:{welcome:"Merƒßba fil-AROMA Restaurant",dineIn:"Nieklu Hawn",takeaway:"ƒ¶u Miegƒßi",categories:{burgers:"Burgers",sides:"Sides",drinks:"Xorb",desserts:"Desserts"},addToCart:"≈ªid fil-Cart",cart:"Cart",emptyCart:"Il-cart tiegƒßek huwa vojt",total:"Total",cancelOrder:"Annulla l-Ordni",completeOrder:"Kompleta l-Ordni",orderSuccess:"L-ordni ƒ°iet imqiegƒßda b'suƒãƒãess!",orderError:"Ma rnexxilx li timqiegƒßed l-ordni. Jekk jogƒßƒ°bok ipprova ƒ°did.",ingredients:"Ingredjenti",nutrition:"Nutrizzjoni",allergies:"Allerƒ°iji",prepTime:"ƒ¶in ta' Preparazzjoni"},it:{welcome:"Benvenuti al Ristorante AROMA",dineIn:"Consumazione sul posto",takeaway:"Da asporto",categories:{burgers:"Hamburger",sides:"Contorni",drinks:"Bevande",desserts:"Dolci"},addToCart:"Aggiungi al Carrello",cart:"Carrello",emptyCart:"Il tuo carrello √® vuoto",total:"Totale",cancelOrder:"Annulla Ordine",completeOrder:"Completa Ordine",orderSuccess:"Ordine effettuato con successo!",orderError:"Impossibile effettuare l'ordine. Riprova.",ingredients:"Ingredienti",nutrition:"Valori Nutrizionali",allergies:"Allergie",prepTime:"Tempo di Preparazione"},fr:{welcome:"Bienvenue au Restaurant AROMA",dineIn:"Sur place",takeaway:"√Ä emporter",categories:{burgers:"Hamburgers",sides:"Accompagnements",drinks:"Boissons",desserts:"Desserts"},addToCart:"Ajouter au Panier",cart:"Panier",emptyCart:"Votre panier est vide",total:"Total",cancelOrder:"Annuler la Commande",completeOrder:"Finaliser la Commande",orderSuccess:"Commande pass√©e avec succ√®s!",orderError:"Impossible de passer la commande. R√©essayez.",ingredients:"Ingr√©dients",nutrition:"Valeurs Nutritionnelles",allergies:"Allergies",prepTime:"Temps de Pr√©paration"},es:{welcome:"Bienvenidos al Restaurante AROMA",dineIn:"Comer aqu√≠",takeaway:"Para llevar",categories:{burgers:"Hamburguesas",sides:"Acompa√±amientos",drinks:"Bebidas",desserts:"Postres"},addToCart:"A√±adir al Carrito",cart:"Carrito",emptyCart:"Tu carrito est√° vac√≠o",total:"Total",cancelOrder:"Cancelar Pedido",completeOrder:"Completar Pedido",orderSuccess:"¬°Pedido realizado con √©xito!",orderError:"No se pudo realizar el pedido. Int√©ntalo de nuevo.",ingredients:"Ingredientes",nutrition:"Informaci√≥n Nutricional",allergies:"Alergias",prepTime:"Tiempo de Preparaci√≥n"},de:{welcome:"Willkommen im AROMA Restaurant",dineIn:"Vor Ort essen",takeaway:"Zum Mitnehmen",categories:{burgers:"Burger",sides:"Beilagen",drinks:"Getr√§nke",desserts:"Desserts"},addToCart:"In den Warenkorb",cart:"Warenkorb",emptyCart:"Ihr Warenkorb ist leer",total:"Gesamt",cancelOrder:"Bestellung stornieren",completeOrder:"Bestellung abschlie√üen",orderSuccess:"Bestellung erfolgreich aufgegeben!",orderError:"Bestellung konnte nicht aufgegeben werden. Bitte versuchen Sie es erneut.",ingredients:"Zutaten",nutrition:"N√§hrwerte",allergies:"Allergien",prepTime:"Zubereitungszeit"},ru:{welcome:"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω AROMA",dineIn:"–í –∑–∞–ª–µ",takeaway:"–ù–∞ –≤—ã–Ω–æ—Å",categories:{burgers:"–ë—É—Ä–≥–µ—Ä—ã",sides:"–ì–∞—Ä–Ω–∏—Ä—ã",drinks:"–ù–∞–ø–∏—Ç–∫–∏",desserts:"–î–µ—Å–µ—Ä—Ç—ã"},addToCart:"–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É",cart:"–ö–æ—Ä–∑–∏–Ω–∞",emptyCart:"–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞",total:"–ò—Ç–æ–≥–æ",cancelOrder:"–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑",completeOrder:"–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–∫–∞–∑",orderSuccess:"–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–º–µ—â–µ–Ω!",orderError:"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –∑–∞–∫–∞–∑. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.",ingredients:"–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã",nutrition:"–ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å",allergies:"–ê–ª–ª–µ—Ä–≥–µ–Ω—ã",prepTime:"–í—Ä–µ–º—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è"},pt:{welcome:"Bem-vindos ao Restaurante AROMA",dineIn:"Comer no local",takeaway:"Para levar",categories:{burgers:"Hamb√∫rgueres",sides:"Acompanhamentos",drinks:"Bebidas",desserts:"Sobremesas"},addToCart:"Adicionar ao Carrinho",cart:"Carrinho",emptyCart:"Seu carrinho est√° vazio",total:"Total",cancelOrder:"Cancelar Pedido",completeOrder:"Finalizar Pedido",orderSuccess:"Pedido realizado com sucesso!",orderError:"N√£o foi poss√≠vel realizar o pedido. Tente novamente.",ingredients:"Ingredientes",nutrition:"Informa√ß√£o Nutricional",allergies:"Alergias",prepTime:"Tempo de Preparo"},nl:{welcome:"Welkom bij AROMA Restaurant",dineIn:"Ter plaatse eten",takeaway:"Afhalen",categories:{burgers:"Burgers",sides:"Bijgerechten",drinks:"Dranken",desserts:"Desserts"},addToCart:"Toevoegen aan Winkelwagen",cart:"Winkelwagen",emptyCart:"Uw winkelwagen is leeg",total:"Totaal",cancelOrder:"Bestelling annuleren",completeOrder:"Bestelling voltooien",orderSuccess:"Bestelling succesvol geplaatst!",orderError:"Bestelling kon niet worden geplaatst. Probeer opnieuw.",ingredients:"Ingredi√´nten",nutrition:"Voedingswaarden",allergies:"Allergie√´n",prepTime:"Bereidingstijd"},pl:{welcome:"Witamy w Restauracji AROMA",dineIn:"Na miejscu",takeaway:"Na wynos",categories:{burgers:"Burgery",sides:"Dodatki",drinks:"Napoje",desserts:"Desery"},addToCart:"Dodaj do koszyka",cart:"Koszyk",emptyCart:"Tw√≥j koszyk jest pusty",total:"Suma",cancelOrder:"Anuluj zam√≥wienie",completeOrder:"Zako≈Ñcz zam√≥wienie",orderSuccess:"Zam√≥wienie zosta≈Ço z≈Ço≈ºone pomy≈õlnie!",orderError:"Nie uda≈Ço siƒô z≈Ço≈ºyƒá zam√≥wienia. Spr√≥buj ponownie.",ingredients:"Sk≈Çadniki",nutrition:"Warto≈õci od≈ºywcze",allergies:"Alergie",prepTime:"Czas przygotowania"}},je=[{code:"en",name:"English",flag:"üá∫üá∏"},{code:"mt",name:"Malti",flag:"üá≤üáπ"},{code:"it",name:"Italiano",flag:"üáÆüáπ"},{code:"fr",name:"Fran√ßais",flag:"üá´üá∑"},{code:"es",name:"Espa√±ol",flag:"üá™üá∏"},{code:"de",name:"Deutsch",flag:"üá©üá™"},{code:"ru",name:"–†—É—Å—Å–∫–∏–π",flag:"üá∑üá∫"},{code:"pt",name:"Portugu√™s",flag:"üáµüáπ"},{code:"nl",name:"Nederlands",flag:"üá≥üá±"},{code:"pl",name:"Polski",flag:"üáµüá±"}];var Ne,ke;const Se=((ke=(Ne=import.meta)==null?void 0:Ne.env)==null?void 0:ke.VITE_API_BASE)||"https://aroma-backend-production.up.railway.app";async function tt(o){const u=`${Se}${o}${o.includes("?")?"&":"?"}t=${Date.now()}`;try{const b=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!b.ok)throw new Error(`HTTP ${b.status}: ${b.statusText}`);return await b.json()}catch(b){throw b}}async function st(o,u){const b=`${Se}${o}`;try{const d=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),credentials:"include"});if(!d.ok){const g=await d.text();throw new Error(`HTTP ${d.status}: ${g}`)}return await d.json()}catch(d){throw d}}const f=(o,u)=>typeof o=="string"?o:(o==null?void 0:o[u])||(o==null?void 0:o.en)||"";function rt(){const[o,u]=n.useState("en"),[b,d]=n.useState(!0),[c,g]=n.useState(null),[j,ee]=n.useState(""),[k,P]=n.useState([]),[Ie,O]=n.useState(!1),[i,U]=n.useState(null),[$,te]=n.useState(!1),[se,q]=n.useState(null),[M,re]=n.useState(!1),[Pe,V]=n.useState(!1),[Oe,Me]=n.useState(""),[p,Ae]=n.useState(""),[W,oe]=n.useState("image"),[Ee,A]=n.useState(!1),[ze,ae]=n.useState(!0),[ne,ie]=n.useState({}),[ot,le]=n.useState(null),[C,ce]=n.useState([]),[de,ue]=n.useState([]),[me,ge]=n.useState(null),[Re,E]=n.useState(!1),[v,z]=n.useState({name:"",email:"",marketingConsent:!0,newsletterConsent:!1}),h=et[o];n.useEffect(()=>{(async()=>{try{ge(null);const s=await tt("/api/menu");if(s&&s.categories&&s.items)le(s),ce(s.categories.filter(r=>r.active)),ue(s.items.filter(r=>r.active));else throw new Error("Invalid menu data structure")}catch(s){ge(s.message);const r={categories:[{id:1,name:"Burgers",icon:"üçî",sort_order:1,active:!0},{id:2,name:"Sides",icon:"üçü",sort_order:2,active:!0},{id:3,name:"Drinks",icon:"ü•§",sort_order:3,active:!0},{id:4,name:"Desserts",icon:"üç∞",sort_order:4,active:!0}],items:[{id:1,name:{en:"Classic Burger",mt:"Burger Klassiku",it:"Burger Classico",fr:"Burger Classique",es:"Burger Cl√°sico",de:"Klassischer Burger",ru:"–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –±—É—Ä–≥–µ—Ä",pt:"Burger Cl√°ssico",nl:"Klassieke Burger",pl:"Klasyczny Burger"},description:{en:"Juicy beef patty with fresh lettuce and tomato",mt:"Patty tal-baƒßar b'lettuce friska u tadam",it:"Polpetta di manzo succosa con lattuga fresca e pomodoro",fr:"Steak de b≈ìuf juteux avec laitue fra√Æche et tomate",es:"Hamburguesa de carne jugosa con lechuga fresca y tomate",de:"Saftiges Rindersteak mit frischem Salat und Tomate",ru:"–°–æ—á–Ω–∞—è –≥–æ–≤—è–∂—å—è –∫–æ—Ç–ª–µ—Ç–∞ —Å–æ —Å–≤–µ–∂–∏–º —Å–∞–ª–∞—Ç–æ–º –∏ –ø–æ–º–∏–¥–æ—Ä–∞–º–∏",pt:"Hamb√∫rguer de carne suculento com alface fresca e tomate",nl:"Sappige rundvleesburger met verse sla en tomaat",pl:"Soczysta wo≈Çowina z ≈õwie≈ºƒÖ sa≈ÇatƒÖ i pomidorem"},price:12.99,image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400",category_id:1,active:!0,ingredients:{en:"Beef patty, lettuce, tomato, onion, bun",mt:"Patty tal-baƒßar, lettuce, tadam, basal, bun",it:"Polpetta di manzo, lattuga, pomodoro, cipolla, panino",fr:"Steak de b≈ìuf, laitue, tomate, oignon, pain",es:"Hamburguesa de carne, lechuga, tomate, cebolla, pan",de:"Rindersteak, Salat, Tomate, Zwiebel, Br√∂tchen",ru:"–ì–æ–≤—è–∂—å—è –∫–æ—Ç–ª–µ—Ç–∞, —Å–∞–ª–∞—Ç, –ø–æ–º–∏–¥–æ—Ä, –ª—É–∫, –±—É–ª–æ—á–∫–∞",pt:"Hamb√∫rguer de carne, alface, tomate, cebola, p√£o",nl:"Rundvleesburger, sla, tomaat, ui, broodje",pl:"Wo≈Çowina, sa≈Çata, pomidor, cebula, bu≈Çka"},nutrition:{en:"Calories: 650, Protein: 35g, Carbs: 45g, Fat: 35g",mt:"Kaloriji: 650, Proteini: 35g, Karboidrati: 45g, Xaƒßmijiet: 35g",it:"Calorie: 650, Proteine: 35g, Carboidrati: 45g, Grassi: 35g",fr:"Calories: 650, Prot√©ines: 35g, Glucides: 45g, Lipides: 35g",es:"Calor√≠as: 650, Prote√≠nas: 35g, Carbohidratos: 45g, Grasas: 35g",de:"Kalorien: 650, Eiwei√ü: 35g, Kohlenhydrate: 45g, Fette: 35g",ru:"–ö–∞–ª–æ—Ä–∏–∏: 650, –ë–µ–ª–∫–∏: 35–≥, –£–≥–ª–µ–≤–æ–¥—ã: 45–≥, –ñ–∏—Ä—ã: 35–≥",pt:"Calorias: 650, Prote√≠nas: 35g, Carboidratos: 45g, Gorduras: 35g",nl:"Calorie√´n: 650, Eiwit: 35g, Koolhydraten: 45g, Vet: 35g",pl:"Kalorie: 650, Bia≈Çko: 35g, Wƒôglowodany: 45g, T≈Çuszcz: 35g"},allergies:{en:"Contains gluten, dairy",mt:"Fih gluten, dairy",it:"Contiene glutine, latticini",fr:"Contient du gluten, des produits laitiers",es:"Contiene gluten, l√°cteos",de:"Enth√§lt Gluten, Milchprodukte",ru:"–°–æ–¥–µ—Ä–∂–∏—Ç –≥–ª—é—Ç–µ–Ω, –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã",pt:"Cont√©m gl√∫ten, latic√≠nios",nl:"Bevat gluten, zuivel",pl:"Zawiera gluten, nabia≈Ç"},prepTime:{en:"15 min",mt:"15 min",it:"15 min",fr:"15 min",es:"15 min",de:"15 Min",ru:"15 –º–∏–Ω",pt:"15 min",nl:"15 min",pl:"15 min"}}]};le(r),ce(r.categories),ue(r.items)}})()},[]),n.useEffect(()=>{if(C.length>0){const t=C[0],s=typeof t.name=="string"?t.name:t.name[o]||t.name.en;s&&typeof s=="string"&&ee(s.toLowerCase())}},[o,C]);const pe=()=>{var r;if(!de||!j||!C.length)return[];const t=(r=C.find(a=>{const x=typeof a.name=="string"?a.name:a.name[o]||a.name.en;return x&&typeof x=="string"&&x.toLowerCase()===j}))==null?void 0:r.id;return t?de.filter(a=>a.category_id===t&&a.active):[]},Le=t=>{P(s=>s.find(a=>a.id===t.id)?s.map(a=>a.id===t.id?{...a,qty:a.qty+1}:a):[...s,{...t,qty:1}])},Be=t=>{P(s=>s.map(r=>r.id===t?{...r,qty:r.qty-1}:r).filter(r=>r.qty>0))},xe=()=>P([]),R=t=>ne[t]||0,L=(t,s)=>{ie(r=>({...r,[t]:Math.max(0,(r[t]||0)+s)}))},he=t=>{const s=ne[t.id]||0;s!==0&&(P(r=>r.find(x=>x.id===t.id)?r.map(x=>x.id===t.id?{...x,qty:x.qty+s}:x):[...r,{...t,qty:s}]),ie(r=>({...r,[t.id]:0})))},F=()=>k.reduce((t,s)=>t+s.price*s.qty,0),Ye=t=>{if(!t)return!1;const s=[".mp4",".webm",".ogg",".avi",".mov",".wmv",".flv",".mkv"],r=t.toLowerCase();return!!(s.some(a=>r.includes(a))||r.includes("youtube.com")||r.includes("youtu.be")||r.includes("vimeo.com")||r.includes("video")||r.includes("stream"))},y=t=>!t||typeof t!="string"?!1:t.includes("youtube.com/shorts/")||t.includes("youtu.be/")&&t.includes("shorts"),fe=()=>{const t=navigator.userAgent,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)||window.innerWidth<=768,r=/iPhone|iPad|iPod|Android.*Chrome\/[0-9]{2}\.[0-9]|Safari.*Version\/[0-9]{2}\.[0-9]|Mobile.*Safari/i.test(t),a="ontouchstart"in window||navigator.maxTouchPoints>0,x=window.innerWidth<=768||window.innerHeight<=1024,m=s||r||a&&x,I=new URLSearchParams(window.location.search).get("forceMobile"),ye=m||I==="true",Ve=!1;return console.log("Mobile detection:",{userAgent:t,isMobile:s,hasVideoIssues:r,isTouchDevice:a,isMobileViewport:x,screenWidth:window.innerWidth,screenHeight:window.innerHeight,forceMobile:m,forceMobileParam:I,finalMobile:ye,aggressiveMobile:Ve}),ye},B=t=>{if(!t||typeof t!="string")return"";try{const s=N(t);return s?y(t)?`https://www.youtube.com/embed/${s}?autoplay=0&mute=1&rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&enablejsapi=1&origin=${window.location.origin}&playsinline=1&controls=1&disablekb=1&loop=0`:fe()?`https://www.youtube.com/embed/${s}?autoplay=0&mute=1&rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&enablejsapi=1&origin=${window.location.origin}&playsinline=1&controls=1`:`https://www.youtube.com/embed/${s}?autoplay=1&mute=1&loop=1&playlist=${s}&rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&start=0&end=0&enablejsapi=1&origin=${window.location.origin}`:""}catch(s){return console.error("Error parsing YouTube URL:",s),""}},De=t=>{if(!t||typeof t!="string")return"";try{const s=t.split("vimeo.com/");return s.length>1?`https://player.vimeo.com/video/${s[1].split("?")[0]}?autoplay=1&muted=1&loop=1`:""}catch(s){return console.error("Error parsing Vimeo URL:",s),""}},N=t=>{if(!t||typeof t!="string")return console.log("getYouTubeVideoId: Invalid URL:",t),"";try{if(console.log("getYouTubeVideoId: Processing URL:",t),t.includes("youtube.com/watch?v=")){const s=t.split("v=");if(s.length>1){const r=s[1].split("&")[0];return console.log("getYouTubeVideoId: Extracted video ID from youtube.com:",r),r}}else if(t.includes("youtube.com/shorts/")){const s=t.split("youtube.com/shorts/");if(s.length>1){const r=s[1].split("?")[0];return console.log("getYouTubeVideoId: Extracted video ID from youtube.com/shorts:",r),r}}else if(t.includes("youtu.be/")){const s=t.split("youtu.be/");if(s.length>1){const r=s[1].split("?")[0];return console.log("getYouTubeVideoId: Extracted video ID from youtu.be:",r),r}}return console.log("getYouTubeVideoId: No valid YouTube URL pattern found"),""}catch(s){return console.error("Error extracting YouTube video ID:",s),""}},T="https://www.youtube.com/watch?v=dQw4w9WgXcQ",S="https://www.youtube.com/shorts/dQw4w9WgXcQ";console.log("Testing YouTube URL parsing:",T);const H=N(T);console.log("Test result - Video ID:",H),console.log("Testing YouTube Shorts URL parsing:",S);const _e=N(S);console.log("Test result - Shorts ID:",_e),console.log("Testing YouTube Shorts detection:",{url:S,isShort:y(S),embedUrl:B(S),willUseDirectLink:y(S)}),console.log("Testing regular YouTube video:",{url:T,isShort:y(T),embedUrl:B(T),willUseDirectLink:y(T)}),console.log("Test thumbnail URL:",`https://img.youtube.com/vi/${H}/mqdefault.jpg`);const K=`https://img.youtube.com/vi/${H}/mqdefault.jpg`,G=new Image;G.onload=()=>console.log("‚úÖ YouTube thumbnail test successful:",K),G.onerror=()=>console.log("‚ùå YouTube thumbnail test failed:",K),G.src=K;const l=t=>{var s;return t?(console.log("getPrimaryMediaUrl: Item data:",{id:t.id,name:((s=t.name)==null?void 0:s.en)||"Unknown",video:t.video,image:t.image}),t.video&&typeof t.video=="string"&&t.video.trim()!==""?(console.log("getPrimaryMediaUrl: Using video URL:",t.video),t.video):t.image&&typeof t.image=="string"?(console.log("getPrimaryMediaUrl: Using image URL:",t.image),t.image):(console.log("getPrimaryMediaUrl: No valid media URL found"),"")):(console.log("getPrimaryMediaUrl: No item provided"),"")},Q=t=>t&&t.video&&typeof t.video=="string"&&t.video.trim()!==""?"video":"image",Y=t=>{Ye(t)?(Ae(t),oe("video"),A(!1),ae(!0),console.log("Opening video modal:",{url:t,isMobile:fe(),isYouTubeShort:y(t),userAgent:navigator.userAgent,screenWidth:window.innerWidth,willUseDirectLink:y(t)||new URLSearchParams(window.location.search).get("forceDirect"),reason:y(t)?"YouTube Shorts detected":"Normal video"})):(Me(t),oe("image")),V(!0)},Ue=()=>{k.length!==0&&(O(!1),setTimeout(()=>{E(!0)},100))},$e=async()=>{if(!v.name.trim()||!v.email.trim()){alert("Please fill in both name and email");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)){alert("Please enter a valid email address");return}re(!0);try{const s={items:k.map(a=>({id:a.id,qty:a.qty})),orderType:c,tableNumber:c==="dine-in"?Math.floor(Math.random()*20)+1:null,customerName:v.name,customerEmail:v.email,marketingConsent:v.marketingConsent,newsletterConsent:v.newsletterConsent,total:F()},r=await st("/api/orders",s);q("success"),xe(),O(!1),E(!1),z({name:"",email:""}),setTimeout(()=>q(null),3e3)}catch{q("error")}finally{re(!1)}},be=({isWelcome:t=!1})=>{const s=je.find(r=>r.code===o);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>te(!$),className:`flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors ${t?"w-full justify-between":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg emoji",style:{fontSize:"18px"},children:s.flag}),e.jsx("span",{className:"text-sm font-medium",children:s.name})]}),e.jsx(He,{size:16,className:`transition-transform ${$?"rotate-180":""}`})]}),$&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 max-h-60 overflow-y-auto z-50",children:je.map(r=>e.jsxs("button",{onClick:()=>{u(r.code),te(!1)},className:"w-full p-3 text-left hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100 last:border-b-0 transition-colors",children:[e.jsx("span",{className:"text-lg emoji",style:{fontSize:"18px"},children:r.flag}),e.jsx("span",{className:"font-medium text-gray-800",children:r.name})]},r.code))})]})},qe=()=>{if(!Pe)return null;const t=m=>{m.stopPropagation();const w=m.target;w.paused&&w.play().catch(I=>console.log("Autoplay failed:",I))},s=p.includes("youtube.com")||p.includes("youtu.be"),r=p.includes("vimeo.com"),[a,x]=n.useState(null);return n.useEffect(()=>{if(W==="video"&&s){const m=setTimeout(()=>{console.log("YouTube iframe taking too long to load, showing fallback");const w=document.querySelector('iframe[src*="youtube.com/embed"]');w&&w.offsetHeight===0&&(w.style.display="none",w.parentElement.innerHTML=`
              <div class="w-full h-96 bg-gray-800 rounded-lg flex items-center justify-center text-white">
                <div class="text-center">
                  <div class="text-4xl mb-4">‚è±Ô∏è</div>
                  <p class="text-lg font-semibold mb-2">Loading Timeout</p>
                  <p class="text-sm opacity-75 mb-4">Video is taking too long to load. Try opening it directly.</p>
                  <button onclick="window.open('${p}', '_blank', 'noopener,noreferrer')" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">
                    Open in YouTube
                  </button>
                </div>
              </div>
            `)},1e4);return x(m),()=>{m&&clearTimeout(m)}}},[W,s,p]),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>V(!1),children:e.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[W==="video"?e.jsx("div",{className:"relative",children:s?e.jsxs("div",{className:"relative",children:[ze&&e.jsx("div",{className:"absolute inset-0 bg-gray-800 rounded-lg flex items-center justify-center text-white z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold",children:"Loading Video..."}),e.jsx("p",{className:"text-sm opacity-75",children:"This may take a moment"})]})}),y(p)||new URLSearchParams(window.location.search).get("forceDirect")?e.jsx("div",{className:"w-full h-96 bg-gradient-to-br from-red-600 to-red-800 rounded-lg flex items-center justify-center text-white",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"text-8xl mb-6",children:y(p)?"üé¨":"üì±"}),e.jsx("h3",{className:"text-2xl font-bold mb-3",children:y(p)?"YouTube Shorts Player":"Mobile Video Player"}),e.jsx("p",{className:"text-base opacity-90 mb-8 leading-relaxed",children:y(p)?"YouTube Shorts have known corruption issues when embedded. Opening directly in the YouTube app prevents green lines and jagged patterns.":"To prevent video corruption (green lines, jagged patterns), please open this video directly in the YouTube app for the best viewing experience."}),e.jsxs("div",{className:"mb-6 p-4 bg-red-800 bg-opacity-50 rounded-lg border border-red-400",children:[e.jsx("p",{className:"text-sm font-semibold text-red-200",children:y(p)?"üé¨ Shorts Corruption Prevention":"üõ°Ô∏è Corruption Prevention Active"}),e.jsx("p",{className:"text-xs text-red-300 mt-1",children:y(p)?"YouTube Shorts embedded players show diagonal green lines and corruption":"This prevents diagonal green lines and jagged video patterns"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>{const w=`vnd.youtube:${N(p)}`,I=p;window.location.href=w,setTimeout(()=>{window.open(I,"_blank","noopener,noreferrer")},1e3)},className:"w-full bg-white text-red-600 hover:bg-gray-100 px-6 py-4 rounded-lg font-bold text-lg transition-colors flex items-center justify-center gap-3 shadow-lg",children:[e.jsx("span",{className:"text-2xl",children:"‚ñ∂Ô∏è"}),"Open in YouTube App"]}),e.jsxs("button",{onClick:()=>window.open(p,"_blank","noopener,noreferrer"),className:"w-full bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[e.jsx("span",{children:"üåê"}),"Open in Browser"]}),window.location.hostname==="localhost"||window.location.hostname.includes("dev")?e.jsx("button",{onClick:()=>{const m=document.querySelector(".mobile-iframe-container");m&&(m.innerHTML=`
                                    <div class="w-full h-96 bg-gray-800 rounded-lg flex items-center justify-center text-white">
                                      <div class="text-center">
                                        <div class="text-4xl mb-4">‚ö†Ô∏è</div>
                                        <p class="text-lg font-semibold mb-2">Testing Embedded Player</p>
                                        <p class="text-sm opacity-75 mb-4">This may show corruption on mobile</p>
                                        <iframe
                                          src="${B(p)}"
                                          className="w-full h-96 rounded-lg"
                                          frameBorder="0"
                                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                          allowFullScreen
                                          title="YouTube video"
                                          loading="eager"
                                        ></iframe>
                                      </div>
                                    </div>
                                  `,m.classList.remove("hidden"))},className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors text-sm",children:"üß™ Test Embedded Player (Debug)"}):null]}),e.jsx("div",{className:"mt-6 text-xs opacity-75",children:e.jsx("p",{children:"This prevents video corruption issues on mobile devices"})})]})}):e.jsx("div",{className:"video-container",children:e.jsx("iframe",{src:B(p),className:"w-full h-96 rounded-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,title:"YouTube video",loading:"eager",onLoad:m=>{console.log("YouTube iframe loaded successfully"),ae(!1),a&&(clearTimeout(a),x(null))},onError:m=>{console.log("YouTube iframe failed to load, showing fallback options"),a&&(clearTimeout(a),x(null)),m.target.style.display="none",m.target.parentElement.innerHTML=`
                      <div class="w-full h-96 bg-gray-800 rounded-lg flex items-center justify-center text-white">
                        <div class="text-center">
                          <div class="text-4xl mb-4">üé•</div>
                          <p class="text-lg font-semibold mb-2">Video Playback Error</p>
                          <p class="text-sm opacity-75 mb-4">Unable to load video. This may be due to codec issues or connection problems.</p>
                          <div class="flex gap-3 justify-center">
                            <button onclick="window.open('${p}', '_blank', 'noopener,noreferrer')" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">
                              Open in YouTube
                            </button>
                            <button onclick="window.location.reload()" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors">
                              Retry
                            </button>
                          </div>
                        </div>
                      </div>
                    `}})}),e.jsx("div",{className:"mobile-iframe-container hidden"})]}):r?e.jsx("iframe",{src:De(p),className:"w-full h-96 rounded-lg",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,title:"Vimeo video"}):e.jsxs(e.Fragment,{children:[e.jsx("video",{src:p,controls:!0,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata",className:"max-w-full max-h-full object-contain rounded-lg",onClick:t,onLoadedData:m=>{m.target.play().catch(w=>console.log("Initial autoplay failed:",w))},onPlay:()=>A(!0),onPause:()=>A(!1),onEnded:()=>A(!1),style:{WebkitPlaysInline:!0,playsInline:!0,"webkit-playsinline":!0,imageRendering:"crisp-edges"},children:"Your browser does not support the video tag."}),!Ee&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center cursor-pointer",onClick:t,children:e.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-90 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all transform hover:scale-110",children:e.jsx("span",{className:"text-4xl ml-1",children:"‚ñ∂Ô∏è"})})})]})}):e.jsx("img",{src:Oe,alt:"Full size",className:"max-w-full max-h-full object-contain rounded-lg",onClick:m=>m.stopPropagation()}),e.jsx("button",{onClick:()=>V(!1),className:"absolute top-4 right-4 bg-white bg-opacity-90 p-2 rounded-full hover:bg-opacity-100 transition-colors",children:e.jsx(D,{size:24})})]})})};return b?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 via-red-500 to-pink-500 flex items-center justify-center p-6",children:e.jsx("div",{className:"w-full max-w-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"üçî"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"AROMA"}),e.jsx("p",{className:"text-gray-600",children:h.welcome})]}),e.jsx("div",{className:"mb-8",children:e.jsx(be,{isWelcome:!0})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>{g("dine-in"),d(!1)},className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"üçΩÔ∏è"}),e.jsx("span",{children:h.dineIn})]}),e.jsxs("button",{onClick:()=>{g("takeaway"),d(!1)},className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"ü•°"}),e.jsx("span",{children:h.takeaway})]})]})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm",children:"üçî"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"AROMA"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>O(!0),className:"relative bg-orange-500 text-white p-2 rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(ve,{size:18}),k.length>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:k.reduce((t,s)=>t+s.qty,0)})]}),e.jsx(be,{})]})]})})}),me&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mx-4 mt-4 rounded",children:[e.jsx("strong",{children:"‚ö†Ô∏è Connection Error:"})," ",me,e.jsx("br",{}),e.jsx("small",{children:"Using offline menu data"})]}),C.length>0&&e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"px-4 py-3",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide category-scroll",children:C.map(t=>{const s=typeof t.name=="string"?t.name:t.name[o]||t.name.en,r=s&&typeof s=="string"?s.toLowerCase():"";return e.jsxs("button",{onClick:()=>ee(r),className:`flex-shrink-0 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${j===r?"bg-orange-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{className:"mr-2",children:t.icon}),s||"Category"]},t.id)})})})}),e.jsx("main",{className:"p-4 space-y-4 pb-20",children:!C.length||!j?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"‚è≥"})}),e.jsx("p",{className:"text-gray-500",children:"Loading menu..."})]}):pe().length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"üçΩÔ∏è"})}),e.jsx("p",{className:"text-gray-500",children:"No items available in this category"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back later for new items!"})]}):pe().map(t=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>U(t),children:e.jsxs("div",{className:"flex gap-4",children:[Q(t)==="video"?e.jsxs("div",{className:"relative w-20 h-20 rounded-lg flex-shrink-0 bg-gray-200 flex items-center justify-center cursor-pointer",onClick:s=>{s.stopPropagation(),Y(l(t))},children:[l(t).includes("youtube.com")||l(t).includes("youtu.be")?e.jsx("img",{src:`https://img.youtube.com/vi/${N(l(t))}/maxresdefault.jpg`,alt:f(t.name,o),className:"w-full h-full object-cover rounded-lg",loading:"lazy",onError:s=>{console.log("YouTube thumbnail failed to load, trying fallback"),s.target.src=`https://img.youtube.com/vi/${N(l(t))}/hqdefault.jpg`,s.target.onerror=()=>{s.target.style.display="none",s.target.parentElement.innerHTML='<div class="w-full h-full bg-gray-300 rounded-lg flex items-center justify-center"><span class="text-2xl">üé•</span></div>'}},onLoad:()=>console.log("YouTube thumbnail loaded successfully")}):l(t).includes("vimeo.com")?e.jsx("div",{className:"w-full h-full bg-gray-300 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"üé•"})}):e.jsx("video",{src:l(t),className:"w-full h-full object-cover rounded-lg",muted:!0,loop:!0}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-80 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"‚ñ∂Ô∏è"})})})]}):e.jsx("img",{src:l(t),alt:f(t.name,o),className:"w-20 h-20 object-cover rounded-lg flex-shrink-0 cursor-pointer",onClick:s=>{s.stopPropagation(),Y(l(t))}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:f(t.name,o)}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:f(t.description,o)}),e.jsxs("p",{className:"text-orange-600 font-bold mb-3",children:["‚Ç¨",t.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),L(t.id,-1)},className:"bg-red-500 hover:bg-red-600 text-white p-1.5 rounded-full transition-colors",children:e.jsx(Z,{size:12})}),e.jsx("span",{className:"w-6 text-center font-medium text-sm",children:R(t.id)}),e.jsx("button",{onClick:s=>{s.stopPropagation(),L(t.id,1)},className:"bg-orange-500 hover:bg-orange-600 text-white p-1.5 rounded-full transition-colors",children:e.jsx(X,{size:12})})]}),e.jsx("button",{onClick:s=>{s.stopPropagation(),he(t)},disabled:R(t.id)===0,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",children:h.addToCart})]})]})]})},t.id))}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"relative",children:[Q(i)==="video"?e.jsxs("div",{className:"relative w-full h-48 bg-gray-200 flex items-center justify-center cursor-pointer",onClick:()=>{Y(l(i))},children:[l(i).includes("youtube.com")||l(i).includes("youtu.be")?e.jsx("img",{src:`https://img.youtube.com/vi/${N(l(i))}/maxresdefault.jpg`,alt:f(i.name,o),className:"w-full h-full object-cover rounded-t-2xl",loading:"eager",onError:t=>{console.log("YouTube thumbnail failed to load in selected item modal, trying fallback"),t.target.src=`https://img.youtube.com/vi/${N(l(i))}/hqdefault.jpg`,t.target.onerror=()=>{t.target.style.display="none",t.target.parentElement.innerHTML='<div class="w-full h-full bg-gray-300 rounded-t-2xl flex items-center justify-center"><span class="text-6xl">üé•</span></div>'}},onLoad:()=>console.log("YouTube thumbnail loaded successfully in selected item modal")}):l(i).includes("vimeo.com")?e.jsx("div",{className:"w-full h-full bg-gray-300 rounded-t-2xl flex items-center justify-center",children:e.jsx("span",{className:"text-6xl",children:"üé•"})}):e.jsx("video",{src:l(i),className:"w-full h-full object-cover rounded-t-2xl",muted:!0,loop:!0}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 rounded-t-2xl flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-80 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"‚ñ∂Ô∏è"})})})]}):e.jsx("img",{src:l(i),alt:f(i.name,o),className:"w-full h-48 object-cover rounded-t-2xl cursor-pointer",onClick:()=>{Y(l(i))}}),e.jsx("button",{onClick:()=>U(null),className:"absolute top-3 right-3 bg-white bg-opacity-90 p-2 rounded-full hover:bg-opacity-100 transition-colors",children:e.jsx(D,{size:18})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:f(i.name,o)}),e.jsx("p",{className:"text-gray-600 mb-4",children:f(i.description,o)}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:h.ingredients}),e.jsx("p",{className:"text-gray-600 text-sm",children:f(i.ingredients,o)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:h.nutrition}),e.jsx("p",{className:"text-gray-600 text-sm",children:f(i.nutrition,o)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:h.allergies}),e.jsx("p",{className:"text-gray-600 text-sm",children:f(i.allergies,o)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:h.prepTime}),e.jsx("p",{className:"text-gray-600 text-sm",children:f(i.prepTime,o)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-orange-600 font-bold text-xl",children:["‚Ç¨",i.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>L(i.id,-1),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-full transition-colors",children:e.jsx(Z,{size:14})}),e.jsx("span",{className:"w-6 text-center font-medium",children:R(i.id)}),e.jsx("button",{onClick:()=>L(i.id,1),className:"bg-orange-500 hover:bg-orange-600 text-white p-2 rounded-full transition-colors",children:e.jsx(X,{size:14})})]})]}),e.jsx("button",{onClick:()=>{he(i),U(null)},disabled:R(i.id)===0,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium transition-colors mt-4",children:h.addToCart})]})]})}),Ie&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:h.cart}),e.jsx("button",{onClick:()=>O(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(D,{size:20})})]})}),e.jsx("div",{className:"p-6",children:k.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx(ve,{className:"text-gray-400",size:24})}),e.jsx("p",{className:"text-gray-500",children:h.emptyCart})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4 mb-6",children:k.map(t=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[Q(t)==="video"?e.jsxs("div",{className:"relative w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0",children:[l(t).includes("youtube.com")||l(t).includes("youtu.be")?e.jsx("img",{src:`https://img.youtube.com/vi/${N(l(t))}/hqdefault.jpg`,alt:f(t.name,o),className:"w-full h-full object-cover rounded-lg",loading:"lazy",onError:s=>{console.log("YouTube thumbnail failed to load in cart, trying fallback"),s.target.src=`https://img.youtube.com/vi/${N(l(t))}/mqdefault.jpg`,s.target.onerror=()=>{s.target.style.display="none",s.target.parentElement.innerHTML='<div class="w-full h-full bg-gray-300 rounded-lg flex items-center justify-center"><span class="text-sm">üé•</span></div>'}},onLoad:()=>console.log("YouTube thumbnail loaded successfully in cart")}):l(t).includes("vimeo.com")?e.jsx("div",{className:"w-full h-full bg-gray-300 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-sm",children:"üé•"})}):e.jsx("video",{src:l(t),className:"w-full h-full object-cover rounded-lg",muted:!0,loop:!0}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs",children:"‚ñ∂Ô∏è"})})]}):e.jsx("img",{src:l(t),alt:f(t.name,o),className:"w-12 h-12 object-cover rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:f(t.name,o)}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["‚Ç¨",t.price.toFixed(2)," √ó ",t.qty]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Be(t.id),className:"bg-red-500 hover:bg-red-600 text-white p-1.5 rounded-full transition-colors",children:e.jsx(Z,{size:12})}),e.jsx("button",{onClick:()=>Le(t),className:"bg-orange-500 hover:bg-orange-600 text-white p-1.5 rounded-full transition-colors",children:e.jsx(X,{size:12})})]})]},t.id))}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"font-bold text-lg text-gray-800",children:h.total}),e.jsxs("span",{className:"font-bold text-xl text-orange-600",children:["‚Ç¨",F().toFixed(2)]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:xe,className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-medium transition-colors",children:h.cancelOrder}),e.jsx("button",{onClick:Ue,disabled:M,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium transition-colors disabled:opacity-50",children:M?"Processing...":h.completeOrder})]})]})]})})]})}),Re&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",style:{zIndex:9999},children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Complete Your Order"}),e.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(D,{size:20})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[k.map(t=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[f(t.name,o)," √ó ",t.qty]}),e.jsxs("span",{children:["‚Ç¨",(t.price*t.qty).toFixed(2)]})]},t.id)),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["‚Ç¨",F().toFixed(2)]})]})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:v.name,onChange:t=>z(s=>({...s,name:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:v.email,onChange:t=>z(s=>({...s,email:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your email address",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"We'll send your order confirmation to this email"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.marketingConsent,onChange:t=>z(s=>({...s,marketingConsent:t.target.checked})),className:"mt-1 h-4 w-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Marketing Communications"}),e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["I would like to receive special offers, promotions, and marketing materials from AROMA Restaurant.",e.jsx("span",{className:"text-orange-600 font-medium",children:" Uncheck if you don't want marketing emails."})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can unsubscribe from these communications at any time. Your privacy is important to us."})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>E(!1),className:"w-full bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg font-medium transition-colors",children:"Back to Cart"}),e.jsx("button",{onClick:$e,disabled:M||!v.name.trim()||!v.email.trim(),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium transition-colors disabled:opacity-50",children:M?"Processing...":"Complete Order & Send Confirmation"})]})]})]})}),e.jsx(qe,{}),se==="success"&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",children:h.orderSuccess}),se==="error"&&e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",children:h.orderError})]})}J.createRoot(document.getElementById("root")).render(e.jsx(Fe.StrictMode,{children:e.jsx(rt,{})}));
